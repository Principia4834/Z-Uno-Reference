<span zunoVersion="v2"></span>
<h1>zunoAppendChannelHandler()</h1>
<span class="function_description">
Данная функция добавляет в канал обработчик во время динамическай конфигурации каналов.
</span>

<span class="function_description_more">
В отличии от других функций используемых во время динамическай конфигурации, данную функцию нужно вызывать каждый раз - не зависимо включненно устройство или нет.
</span>

<span class="function_syntax">zunoAppendChannelHandler(ch, value_size, type, *handler)</span>

<span class="function_parameters">
	<span class="function_parameters_param">
		<span class="function_parameters_param_name">ch</span>
		<span class="function_parameters_param_description">канал от <b>0x0</b> до <b>31</b> после первого использовании <span class="function_ref">zunoAddChannel</span> у вас есть канал <b>0x0</b>, после второго у вас уже <b>0x0</b> и <b>0x1</b>...</span>
	</span>
	<span class="function_parameters_param">
		<span class="function_parameters_param_name">value_size</span>
		<span class="function_parameters_param_description">размер данных используемых в getter/setter или переменной.</span>
	</span>
    <span class="function_parameters_param">
        <span class="function_parameters_param_name">type</span>
        <span class="function_parameters_param_description">тип хендлера:
            <ul>
				<li>CHANNEL_HANDLER_SINGLE_GETTER</li>
				<li>CHANNEL_HANDLER_SINGLE_GETTERSETTER</li>
				<li>CHANNEL_HANDLER_SINGLE_VALUEMAPPER</li>
				<li>CHANNEL_HANDLER_MULTI_GETTER</li>
				<li>CHANNEL_HANDLER_MULTI_GETTERSETTER</li>
				<li>CHANNEL_HANDLER_SINGLE_GETTERSETTER_2P</li>
				<li>CHANNEL_HANDLER_MULTI_GETTERSETTER_2P</li>
				<li>CHANNEL_HANDLER_SINGLE_THERMOSTAT</li>
				<li>CHANNEL_HANDLER_MULTI_THERMOSTAT</li>
            </ul>
        </span>
    </span>
	<span class="function_parameters_param">
		<span class="function_parameters_param_name">handler</span>
		<span class="function_parameters_param_description">указатель на структуру содержающая хендлеры или же указатель на переменную</span>
	</span>
</span>

<span class="function_example">
<b>CHANNEL_HANDLER_SINGLE_VALUEMAPPER</b> - данный тип использзуеться когда нужно напрямую использовать переменную без функций.

<pre><code class="c">
byte dimmerValue = 99;

//ZUNO_SETUP_CHANNELS(ZUNO_SWITCH_MULTILEVEL(dimmerValue, NULL));

void setup() {
  zunoAppendChannelHandler( 0,  1, CHANNEL_HANDLER_SINGLE_VALUEMAPPER, (void*)&dimmerValue);//Напрямую указатель на переменную
}
</code></pre>
</span>

<span class="function_example">
<b>CHANNEL_HANDLER_SINGLE_GETTER</b> - данный тип использзуеться когда используеться только getter.

<pre><code class="c">
byte dimmerValue = 99;

//ZUNO_SETUP_CHANNELS(ZUNO_SENSOR_BINARY_MOTION(getterFunctionSensorBinary));

void setup() {
  zunoAppendChannelHandler( 0,  1, CHANNEL_HANDLER_SINGLE_GETTER, (void*)&getterFunctionSensorBinary);//Напрямую указатель на функцию
}

BYTE getterFunctionSensorBinary() {
    return (0x0);
}
</code></pre>
</span>

<span class="function_example">
<b>CHANNEL_HANDLER_SINGLE_GETTERSETTER</b> - данный тип использзуеться когда используеться getter и setter.

<pre><code class="c">
byte dimmerValue = 99;

//ZUNO_SETUP_CHANNELS(ZUNO_SWITCH_MULTILEVEL(getSwitchMultilevelValue, setSwitchMultilevelValue));

//Устанавливаем в струтуру указатели на хендлеры getter и setter
zuno_handler_single_gettersetter_t __hdata_getSwitchMultilevelValue={(void*)&getSwitchMultilevelValue,(void*)&setSwitchMultilevelValue};

void setup() {
  zunoAppendChannelHandler( 0,  1, CHANNEL_HANDLER_SINGLE_GETTERSETTER, (void*)&__hdata_getSwitchMultilevelValue);//Тут уже передаюм указатель на структуру
}

void setSwitchMultilevelValue(byte newValue) {
	dimmerValue = newValue;
  }
  
  byte getSwitchMultilevelValue(void) {
	return dimmerValue;
  }
</code></pre>
</span>

<span class="function_see_also">
Общий пример использования можно найти в <span class="function_ref">zunoStartDeviceConfiguration</span>.
</span>

