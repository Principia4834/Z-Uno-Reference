<h1>SPI</h1>
<span class="function_description">
    <br>Serial Peripheral Interface (SPI) is a synchronous serial data protocol used by microcontrollers for communicating with one or more peripheral devices quickly over short distances. It can also be used for communication between two microcontrollers. </br>
    <br>With an SPI connection there is always one master device (usually a microcontroller) which controls the peripheral devices. Typically there are three lines common to all the devices:</br>
<ul>
<li>MISO (Master In Slave Out) &mdash; The Slave line for sending data to the master</li>
<li>MOSI (Master Out Slave In) &mdash; The Master line for sending data to the peripherals</li>
<li>SCK (Serial Clock) &mdash; The clock pulses which synchronize data transmission generated by the master</li>
<li>CS/SS (Slave Select or Chips Select) &mdash; the pin on each device that the master can use to enable and disable specific devices.</li>
</ul>
<br>For more infomation about pins of Z-Uno <a href="http://z-uno.z-wave.me/technical/pinout/">here</a></br>
<br>When a device's Slave Select pin is low, it communicates with the master. When it's high, it ignores the master. This allows you to have multiple SPI devices sharing the same MISO, MOSI, and CLK lines.</br>
<br>To write code for a new SPI device you need to note a few things:
<ul>
<li>What is the maximum SPI speed your device can use? This is controlled by the first parameter in SPISettings. Z-Uno supports up to 8MHz (8000000). Z-Uno will automatically use the best speed that is equal to or less than the number you use with SPISettings.</li>
<li>Is data shifted in Most Significant Bit (MSB) or Least Significant Bit (LSB) first? This is controlled by second SPISettings parameter, either MSBFIRST or LSBFIRST. Most SPI chips use MSB first data order.</li>
<li>Is the data clock idle when high or low? Are samples on the rising or falling edge of clock pulses? These modes are controlled by the third parameter in SPISettings.</li>
</ul>
The SPI standard is loose and each device implements it a little differently. This means you have to pay special attention to the device's datasheet when writing your code
<br>Once you have your SPI parameters, use SPI.beginTransaction() to begin using the SPI port.
</span>
<span class="function_example"><code class="c"><pre>
SPISettings spi_settings = SPISettings(8000000, MSBFIRST, SPI_MODE0);
SPI.beginTransaction(&spi_settings);
// ...
SPI.endTransaction();
</pre></code></span>
<span class="function_description_more">
<!--
If other libraries use SPI from interrupts, they will be prevented from accessing SPI until you call SPI.endTransaction();</pre></code></span>
-->
The SPI settings are applied at the beginning of the transaction and SPI.endTransaction() doesn't change SPI settings. Unless you, or some library, calls beginTransaction a second time, the setting are maintained. You should attempt to minimize the time between before you call SPI.endTransaction(), for best compatibility if your program is used together with other libraries which use SPI.
With most SPI devices, after SPI.beginTransaction(), you will write the slave select pin LOW, call SPI.transfer() any number of times to transfer data, then write the SS pin HIGH, and finally call SPI.endTransaction().
</span>            
<ul>
    <li><a href="/Reference/SPI/SPISettings/">SPISettings</a></li>
	<li><a href="/Reference/SPI/Begin">begin</a></li>
	<li><a href="/Reference/SPI/End">end</a></li>
	<li><a href="/Reference/SPI/BeginTransaction">beginTransaction</a></li>
	<li><a href="/Reference/SPI/EndTransaction">endTransaction</a></li>
	<li><a href="/Reference/SPI/SetBitOrder">setBitOrder</a></li>
	<li><a href="/Reference/SPI/SetClockDivider">setClockDivider</a></li>
	<li><a href="/Reference/SPI/SetDataMode">setDataMode</a></li>
	<li><a href="/Reference/SPI/Transfer">Transfer</a></li>
	<li><a href="/Reference/SPI/UsingInterrupt">usingInterrupt</a></li>
</ul>
